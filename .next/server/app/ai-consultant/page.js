(()=>{var e={};e.id=69,e.ids=[69],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},931:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(836),r(2029),r(5866);var s=r(3191),n=r(8716),a=r(7922),o=r.n(a),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["ai-consultant",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,836)),"/Users/macbookpro/Desktop/defires/yandex_market/telefon_1/swer4ock-analytics-ui/src/app/ai-consultant/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"/Users/macbookpro/Desktop/defires/yandex_market/telefon_1/swer4ock-analytics-ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/macbookpro/Desktop/defires/yandex_market/telefon_1/swer4ock-analytics-ui/src/app/ai-consultant/page.tsx"],p="/ai-consultant/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/ai-consultant/page",pathname:"/ai-consultant",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7698:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7259:(e,t,r)=>{Promise.resolve().then(r.bind(r,5280))},5303:()=>{},5280:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(326),n=r(7577);function a(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(""),[o,i]=(0,n.useState)(!1),l=async r=>{if(!r.trim())return;let s=[...e,{role:"user",content:r}];t(s),a(""),i(!0);try{let e=await fetch("/api/ai-consultant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:s})});if(!e.ok)throw Error(await e.text());let r=await e.json();t(e=>[...e,{role:"assistant",content:r.answer}])}catch(e){t(t=>[...t,{role:"assistant",content:`Ошибка: ${e?.message||e}`}])}finally{i(!1)}},d=async()=>{r.trim()&&await l(r)};return(0,s.jsxs)("main",{style:{maxWidth:900,margin:"0 auto",padding:24,fontFamily:"system-ui, sans-serif"},children:[s.jsx("h1",{style:{fontSize:28,fontWeight:700,marginBottom:8},children:"\uD83E\uDD16 AI‑консультант по данным"}),s.jsx("p",{style:{color:"#6c757d",marginBottom:16},children:"Задайте вопрос по данным (Avito, продажи, стратегии). В следующей итерации подключим реальный LLM (Gemini/OpenAI) и Supabase‑grounding."}),(0,s.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:16,minHeight:360,background:"#fff"},children:[0===e.length&&s.jsx("div",{style:{color:"#888"},children:"Пока нет сообщений. Спросите, например: \xabПокажи контакты по Казани для Сэлтка за последние 7 дней\xbb"}),e.map((e,t)=>(0,s.jsxs)("div",{style:{padding:"8px 12px",margin:"8px 0",borderRadius:8,background:"user"===e.role?"#e7f3ff":"#f8f9fa",border:"1px solid #e1e1e1"},children:[(0,s.jsxs)("strong",{children:["user"===e.role?"Вы":"Консультант",":"]})," ",e.content]},t))]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("input",{value:r,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"===e.key&&d()},placeholder:"Ваш вопрос...",style:{flex:1,padding:"10px 12px",borderRadius:8,border:"1px solid #e1e1e1"}}),s.jsx("button",{onClick:d,disabled:o,style:{padding:"10px 14px",borderRadius:8,border:"1px solid #e1e1e1",background:"#4f46e5",color:"#fff",fontWeight:600},children:o?"Отправка…":"Отправить"})]}),s.jsx("div",{style:{marginTop:16,fontSize:12,color:"#6c757d"},children:"Подключение к реальной модели потребует API ключ и доступ к Supabase. Эту заглушку можно расширить для ответов с графиками и SQL."})]})}},836:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>o,__esModule:()=>a,default:()=>i});var s=r(8570);let n=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/defires/yandex_market/telefon_1/swer4ock-analytics-ui/src/app/ai-consultant/page.tsx`),{__esModule:a,$$typeof:o}=n;n.default;let i=(0,s.createProxy)(String.raw`/Users/macbookpro/Desktop/defires/yandex_market/telefon_1/swer4ock-analytics-ui/src/app/ai-consultant/page.tsx#default`)},2029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(9510);let n={title:"swer4ock analytics"};function a({children:e}){return s.jsx("html",{lang:"ru",children:s.jsx("body",{style:{margin:0,fontFamily:"system-ui, sans-serif"},children:e})})}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,471],()=>r(931));module.exports=s})();